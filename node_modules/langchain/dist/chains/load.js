"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadChain = void 0;
const _1 = require(".");
const hub_1 = require("../util/hub");
const util_1 = require("../util");
const loadChainFromFile = async (file, values = {}) => {
    const serialized = (0, util_1.parseFileConfig)(file);
    return _1.BaseChain.deserialize(serialized, values);
};
/**
 * Load a chain from {@link https://github.com/hwchase17/langchain-hub | LangchainHub} or local filesystem.
 *
 * @example
 * Loading from LangchainHub:
 * ```ts
 * import { loadChain } from "langchain/chains";
 * const chain = await loadChain("lc://chains/hello-world/chain.json");
 * const res = await chain.call({ topic: "my favorite color" });
 * ```
 *
 * @example
 * Loading from local filesystem:
 * ```ts
 * import { loadChain } from "langchain/chains";
 * const chain = await loadChain("/path/to/chain.json");
 * ```
 */
const loadChain = async (uri, values = {}) => {
    const hubResult = await (0, hub_1.loadFromHub)(uri, (uri) => loadChainFromFile(uri, values), "chains", new Set(["json", "yaml"]), values);
    if (hubResult) {
        return hubResult;
    }
    return loadChainFromFile(uri, values);
};
exports.loadChain = loadChain;
//# sourceMappingURL=load.js.map